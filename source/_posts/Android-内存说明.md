---
title: Android 内存说明
date: 2019-01-05 15:30:42
tags:
- 内存
categories:
- 内存检测
---
#### Android内存模型说明
Android内存分为 新生代-老年代-永久代
   内存分配比例：1：1：8
   
#### 内存抖动
通过$adb shell getprop dalvik.vm.heapgrowthlimit 可以查看应用占用的内存最大是192M 也就是说新生代的大小大概20M。
新生成的对象分配到新生代，当达到新生代的大小20M时会触发GC，回收没有被应用的对象，所以通过Android Studio查看内存占用情况
发现应用占用的内存在50M左右也会频繁GC，就是因为新生代满了，回收没有被引用的对象。如果在FOR循环或onDraw中不断的创建对象就会造成频繁GC也就是内存抖动。

#### 内存溢出
新生代满了，没有被引用的对象会被回收，被引用的对象会移到老年代，如果老年代也满了，没被引用的对象会回收，被引用的对象会移动永久代，这样循环，直到所有被引用的对象占用的内存叨叨192M,造成内存溢出。